<div class="mat-typography" fxLayout="column" fxLayoutGap="10px">
    <mat-toolbar color="primary">
        <mat-menu #appMenu="matMenu">
            <button mat-menu-item *ngFor="let item of statsModules | keyvalue" (click)="$event.stopPropagation(); item.value.show = !item.value.show">
        <span [ngClass]="{'color-green': item.value.show, 'color-red': !item.value.show}"> <i class="fas {{item.value.icon}} fa-lg fa-fw"></i></span>
        Toggle {{item.value.text}}
      </button>
            <button mat-menu-item (click)="$event.stopPropagation(); showDeckModifiers = !showDeckModifiers">
        <span [ngClass]="{'color-green': showDeckModifiers, 'color-red': !showDeckModifiers}"><i class="fas fa-money-bill fa-fw fa-lg"></i></span>
        Toggle Deck Modifiers
      </button>
            <mat-divider></mat-divider>
            <a mat-menu-item href="https://github.com/epoblaguev/gloomhaven-perk-calculator" target="_blank">
                <i class="fab fa-github fa-lg fa-fw color-gray"></i> Fork me on Github
            </a>
            <button *ngIf="!isMobile" mat-menu-item (click)="openBottomSheet('app')"><i class="fas fa-download fa-lg fa-fw color-gray"></i>Download Mobile App</button>
            <button mat-menu-item (click)="openBottomSheet('about')"><i class="fas fa-info-circle fa-lg fa-fw color-gray"></i>About</button>
        </mat-menu>

        <button mat-icon-button [matMenuTriggerFor]="appMenu">
      <i class="fas fa-bars fa-2x"></i>
    </button>

        <span>{{ title }}</span>

        <span style="flex: 1 1 auto;"></span>

        <a *ngIf="!isMobile" fxHide.xs (click)="openBottomSheet('app')" class="top-right-logo">
            <span class="fa-layers fa-fw fa-2x">
                <i class="fas fa-play" data-fa-transform="rotate--90 grow-1.5"></i>
                <i class="fab fa-apple fa-inverse color-toolbar" data-fa-transform="shrink-9 up-3"></i>
                <i class="fab fa-amazon fa-inverse color-toolbar" data-fa-transform="shrink-10 down-4.2 left-4.5"></i>
                <i class="fab fa-google-play fa-inverse color-toolbar" data-fa-transform="shrink-10 down-4.2 right-4.5"></i>
              </span>
            <!-- <i class="fas fa-mobile-alt fa-fw fa-2x"></i> -->
        </a>

        <a fxHide.xs href="https://github.com/epoblaguev/gloomhaven-perk-calculator" target="_blank" class="top-right-logo">
            <i class="fab fa-github fa-fw fa-2x"></i>
        </a>

    </mat-toolbar>

    <div fxLayout="column" fxLayoutGap="6px" class="wrapper">
        <div fxLayoutGap="7px" fxLayout.xs="column wrap" fxLayout="row" fxFlex.xs="100">
            <div fxLayout="column" fxLayoutGap="6px" fxFlex="60" fxFlex.sm="50" fxFlex.xs="100" style="height: 100%;">
                <app-card-probability *ngIf="statsModules.cardProbability.show" [properties]="statsModules.cardProbability" fxFlex="100" fxFlex.xs="100">
                </app-card-probability>
                <app-card-effects *ngIf="statsModules.effectProbability.show" [properties]="statsModules.effectProbability" fxFlex="100" fxFlex.xs="100">
                </app-card-effects>
                <app-deck-reliability *ngIf="statsModules.deckReliability.show" [properties]="statsModules.deckReliability" fxFlex="100">
                </app-deck-reliability>
                <app-average-damage *ngIf="statsModules.averageDamage.show" [properties]="statsModules.averageDamage" fxFlex="100" fxFlex.xs="100">
                </app-average-damage>
                <app-shuffle-probability *ngIf="statsModules.shuffleProbability.show" [properties]="statsModules.shuffleProbability" fxFlex="100">
                </app-shuffle-probability>
            </div>
            <div fxLayout="column" fxLayoutGap="6px" fxFlex="40" fxFlex.sm="50" fxFlex.xs="100" style="height: 100%;">
                <!--<app-perk-chooser  [deck]="deck" fxFlex="100"></app-perk-chooser>-->
                <app-perk-selector fxFlex="100"></app-perk-selector>
                <app-deck-modifiers *ngIf="showDeckModifiers" fxFlex="100"></app-deck-modifiers>
                <mat-card fxLayout="column">
                    <mat-card-subtitle><i class="fas fa-download fa-lg fa-fw color-gra"></i> Download Mobile App</mat-card-subtitle>
                    <mat-card-content fxLayoutGap="1em" fxLayout="row wrap">
                        If you found this project useful, consider supporting its development by <a href="#" (click)="openBottomSheet('app')">Downloading the Mobile App</a>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
</div>